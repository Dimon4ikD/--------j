\section{Приложение}

Окружение \verb|lstinputlisting| также даёт возможность включать в документ
исходные тексты программ, позволяя оформлять их очень и очень разнообразно. 

Можно, например, нумеровать строки:

\begin{lstlisting}[numbers=left, firstnumber=100]
x, b = -1, [-5, -2, 3, 4, 4, 5]
j, i = 0, b.size - 1
while j+1 != i
  k = (i+j)/2
  b[k] < x ? j = k : i = k
end
puts i
\end{lstlisting}

Исходный код для получения этого листинга имеет следующий вид:

\begin{small}
\begin{verbatim}
\begin{lstlisting}[numbers=left, firstnumber=100]
x, b = -1, [-5, -2, 3, 4, 4, 5]
j, i = 0, b.size - 1
while j+1 != i
  k = (i+j)/2
  b[k] < x ? j = k : i = k
end
puts i
\end{lstlisting}
\end{verbatim}
\end{small}

Ниже приведён исходный код части скрипта, который использовался для построения
графиков различных функций в книге~\cite{roganov-jurists}. Важно отметить, что
в приложение никогда не следует включать большие файлы целиком. Кроме того, 
исходные тексты включаемых фрагментов программ при необходимости надо 
отредактировать так, чтобы все их строки помещались на странице целиком. Для
указанного файла это важное требование нарушено.

\lstinputlisting[numbers=none, linerange={36-50}]{programms/fixplot.rb}

